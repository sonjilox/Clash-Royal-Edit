<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Clash Royale - Battle</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
</head>
<body>
    <div class="app-container">
        <div id="battle-screen" style="position: relative; width: 100%; height: 100%;">

            <canvas id="game" width="600" height="770"></canvas>

            <div id="ui">
                <div class="elixir-container">
                    <div id="elixir-bar"></div>
                    <div id="elixir-text">5</div>
                </div>
            </div>

            <div id="cards-panel"></div>

            <button id="surrender-btn"
                    style="position:absolute; top:10px; left:10px; padding: 5px 15px; background: rgba(0,0,0,0.5); color: white; border: 1px solid white; border-radius: 5px; cursor: pointer;"
                    onclick="if(confirm('Выйти из боя?')) window.location.href='index.html'">
                ВЫХОД
            </button>
        </div>
    </div>

    <script src="game.js"></script>
    <script>
        // Запуск инициализации боя при загрузке страницы
        window.onload = () => {
            if (typeof initBattle === "function") {
                initBattle();
            }
        };
    </script>

    <script>
      // Пытаемся включить fullscreen после первого тапа (браузеры требуют жест пользователя)
      document.addEventListener("touchstart", () => {
        const el = document.documentElement;
        if (el.requestFullscreen) el.requestFullscreen().catch(() => {});
      }, { once: true, passive: true });
    </script>

</body>
</html>